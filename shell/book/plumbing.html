<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Un poco de plomería - Introducción a la terminal</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Introducción y motivación</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="historia.html"><strong aria-hidden="true">1.1.</strong> Un poco de historia</a></li><li class="chapter-item expanded "><a href="meta.html"><strong aria-hidden="true">1.2.</strong> Notas sobre este curso</a></li></ol></li><li class="chapter-item expanded "><a href="first_steps.html"><strong aria-hidden="true">2.</strong> Primeros pasos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="nav.html"><strong aria-hidden="true">2.1.</strong> Navegación</a></li><li class="chapter-item expanded "><a href="files.html"><strong aria-hidden="true">2.2.</strong> Moviendo y manipulando archivos</a></li><li class="chapter-item expanded "><a href="utils.html"><strong aria-hidden="true">2.3.</strong> Otros comandos útiles</a></li></ol></li><li class="chapter-item expanded "><a href="plumbing.html" class="active"><strong aria-hidden="true">3.</strong> Un poco de plomería</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="showoff.html"><strong aria-hidden="true">3.1.</strong> La terminal es muy poderosa</a></li></ol></li><li class="chapter-item expanded "><a href="next_steps.html"><strong aria-hidden="true">4.</strong> Siguientes pasos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="customization.html"><strong aria-hidden="true">4.1.</strong> Customización</a></li><li class="chapter-item expanded "><a href="advanced.html"><strong aria-hidden="true">4.2.</strong> Comandos más avanzados</a></li><li class="chapter-item expanded "><a href="scripting.html"><strong aria-hidden="true">4.3.</strong> Scripting</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Introducción a la terminal</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="un-poco-de-plomería"><a class="header" href="#un-poco-de-plomería">Un poco de plomería</a></h1>
<p>Ya vimos algunos ejemplos de cómo la terminal de mucho poder al
usuario que sabe usarla, su auténtico poder se libera haciendo uso de
las características que precisamente la hacen diferente a trabajar con
un navegador de archivos, por ejemplo. Es bueno recordar que un
<em>shell</em> es un intérprete de comandos en toda la extensión de la
palabra.</p>
<h2 id="inputs-outputs-errores"><a class="header" href="#inputs-outputs-errores">Inputs, outputs, errores</a></h2>
<p>Hasta ahora hemos usado los términos <em>input</em> y <em>output</em> sin mucho
cuidado. Ahora habrá que clarificar su uso, porque son conceptos muy
importantes. El que el <em>shell</em> tenga concepto de esto le permite hacer
mucho más que crear y mover archivos ociosamente. No hay que olvidar
que en tiempos de UNIX ésta era la única manera de interactuar con una
computadora, y muchas personas hacían tareas complejas como procesar
texto, todo sin siquiera acercase a algo como word.</p>
<p>Como mencionamos antes, los comandos tienen un output determinado.
Este se suele mostrar en la terminal justo después de que se corrió el
comando, como lo hemos estado mostrando en estas notas. Los comandos
de bash están diseñados para usar dos canales de comunicación con el
usuario: standard out (stdout) y standard error (stderr). Cuando
creamos un archivo con el comando,</p>
<pre><code class="language-bash">$ ls &gt; contenidos.txt
</code></pre>
<p>redirigimos des stdout hacia otro lugar, en donde bash lo tomó y lo
mandó como contenido al archivo <code>contenidos.txt</code>. Ese lugar se llama
standard in (stdin). Entonces, ahora tenemos un canal para enviar
información a comandos, y dos en los cuales la recibimos. Esta
redirección es mucho más versátil que solo escribir archivos nuevos.</p>
<h2 id="el-pipe"><a class="header" href="#el-pipe">El pipe</a></h2>
<p>El operador <code>&gt;</code> nos permitió redirigir stdout a un archivo. Lo
interesante es que se puede redirigir de stdout directo a stdin para
que otros comandos los puedan leer. Por ejemplo, <code>less</code> tomaba como
argumento un nombre de archivo, pero en realidad no es necesario
dárselo! Si se corre <code>less</code> sin argumentos, tratará de leer de stdin.
En un ejemplo concreto, podemos usar el ejemplo de <code>grep</code> otra vez y
ahora buscar una palabra muy común. Por ejemplo:</p>
<pre><code class="language-bash">$ grep el *
</code></pre>
<p>Ese comando buscará las líneas donde aparezca la palabra &quot;el&quot; en los
archivos que componen éstas notas. Es de esperarse que haya muchos
resultados, por lo que <code>grep</code> llenará la pantalla sin problemas. Si se
quiere hacer una análisis minucioso de las apariciones, <em>scrollear</em>
arriba y abajo en la ventana de la terminal no es lo más cómodo.
Intentemos escribirlo a un archivos!</p>
<pre><code class="language-bash">$ grep el * &gt; resultados.txt
</code></pre>
<p>Ahora podemos usar <code>less</code> para abrir el archivo con más comodidad.</p>
<pre><code class="language-bash">$ less resultados.txt
</code></pre>
<p>Pero, ¿no se siente arcaico crear un archivo intermedio para después
tener que borrarlo? Lo es. Podemos evitar este paso dándolo a <code>less</code>
lo que queremos que nos muestre directamente.</p>
<pre><code class="language-bash">$ grep el * | less
</code></pre>
<p>El caracter <code>|</code> se llama <em>pipe</em> en inglés. En términos simples, toma
el stdout del lado izquierdo y lo manda a stdin para el comando del
lado derecho. Esto se llama &quot;piping&quot; en inglés y me referiré a ello
como &quot;pipear&quot; a falta de una mejor traducción.</p>
<p>En el ejemplo anterior estamos tomando stdout de <code>grep</code>, el listado de
coincidencias como en el ejemplo de la sección anterior, y en vez de
mostrarlo todo al mismo tiempo en la terminal, lo envía como input a
<code>less</code>, que como recordamos, toma ese texto y lo divide en páginas
para facilitar su lectura.</p>
<p>No hay límite para cuantos comandos se pueden encadenar uno tras otro,
y el uso creativo de estos bloques básicos de construcción da para
resultados realmente increíbles. Al principio de las notas se comentó
que la filosofía de diseño UNIX era crear muchos programas pequeños
diseñados para hacer una y solo una cosa muy bien. Ahora debería hacer
más sentido esa decisión de diseño. No se necesitan programas
complicados cuando se tiene los ladrillos y el cemento, y mucha
creatividad.</p>
<p>Los ejemplos más bellos de éste concepto en acción los da el mismísimo
Brian Kernighan en esta <a href="https://www.youtube.com/watch?v=tc4ROCJYbm0">joya
histórica</a>, un documental
de UNIX con la aparición de los iconos Kernighan y Ritchie.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="utils.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="showoff.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="utils.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="showoff.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
